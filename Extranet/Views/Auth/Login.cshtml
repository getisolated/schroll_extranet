@model Extranet.Models.LoginModel;
@{
    ViewData["Title"] = "Connexion";
    Layout = "~/Views/Shared/_ClearLayout.cshtml";

    NavResponse<string> navResponse = ViewBag.NavResponse;
}

@section Styles {
    <link href="/css/login.css" rel="stylesheet" />
    <link href="/lib/font-awesome/css/all.min.css" rel="stylesheet" />
}

<div class="row">
    <div class="col-sm-5 text-black login-form">
        <img class="px-5 ms-xl-4 mt-5 mb-4" src="https://schroll.fr/wp-content/themes/schroll23/public/images/schroll-groupe-logo.62b949.png" style="max-height: 40px;" alt=""> <!-- Schroll logo -->
        <h3 class="px-5 ms-xl-4 fw-bold">Connexion</h3>
        <p class="px-5 ms-xl-4 text-muted">
            En cas de première connexion, veuillez contacter votre conseiller
            éco-commercial afin d'obtenir vos identifiants.
        </p>
        <div class="d-flex align-items-center px-5 ms-xl-4 mt-2">
            @using (Html.BeginForm("Login", "Auth", FormMethod.Post, new { id = "loginForm", style = "width: 100%;" }))
            {
                <div class="form-outline mb-4" id="email">
                    <label class="form-label fw-bold h5" for="email">Adresse e-mail</label>
                    @Html.TextBoxFor(model => model.email, null, new { type = "email", id = "emailInput", @class = "form-control form-control-lg login-input ps-5", placeholder = "Ex : thomas.dupont@mail.com" })
                    <i class="fa-solid fa-envelope"></i>
                </div>

                <div class="form-outline mb-2" id="password">
                    <label class="form-label fw-bold h5" for="password">Mot de passe</label>
                    @Html.TextBoxFor(model => model.password, null, new { type = "password", id = "passwordInput", @class = "form-control form-control-lg login-input ps-5", placeholder = "Votre mot de passe" })
                    <i class="fa-solid fa-lock"></i>
                </div>

                <p class="small mb-3 pb-lg-2" id="message" style="@((navResponse?.Success ?? false) ? "color:green;":"color:red;")">@navResponse?.Message</p>
                @* <p class="small mb-3 pb-lg-2" id="errormessage" style="color:red;@(!string.IsNullOrWhiteSpace(navResponse?.Message) ? "":"display:none;")">@navResponse?.Message</p> *@
                <p class="small mb-3 pb-lg-2"><a id="forgottenpassword" class="link-dark" href="#">Mot de passe oublié ?</a></p>

                <button class="btn btn-lg btn-block btn-connect" type="submit" id="submitButton" disabled>Se connecter</button>
            }
        </div>
        <p class="px-5 ms-xl-4 mt-5">Si vous rencontrez des soucis de connexion, <a class="link-dark link-underline link" href="mailto:contact@schroll.fr?subject=Espace Client – problème de connexion" target="_blank">contactez-nous par mail</a> : nos équipes vous répondent du lundi au vendredi (de 8h à 12h et de 13h30 à 17h)</p>

    </div>
    <div class="col-sm-7 px-0 d-sm-block login-background">
        <img src="https://schroll.fr/wp-content/uploads/2023/09/Piste_cyclable_strasbourg-1800x1406.jpg" alt="Login image" class="login-background-image"> <!-- Schroll login screen background -->
    </div>
</div>

@section Scripts {
    <script type="text/javascript" src="/js/auth/login.js" asp-append-version="true"></script>
}